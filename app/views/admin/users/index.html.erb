<header>
  <h1>Users</h1>
  <ul class="actions">
    <li>
      <%= link_to "New User", new_admin_user_path, class: "new" %>
    </li>
  </ul>
</header>

<table class="table">
  <thead>
    <tr>
      <th scope="col">Username</th>
      <th scope="col">Email</th>
      <th scope="col">Signed-in</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= user.username %></td>
        <td><%= user.email %></td>
        <td>
          <%= user.sign_in_count %>
          (<%= user.last_sign_in_at.try(:strftime, "%d. %m. %Y %H:%M") %>)
        </td>
        <td>
          <%= link_to "Invite",
            admin_user_path(user),
            method: :put,
            data: { confirm: "Are you sure you want to invite this user?" },
            class: "invite" %>
          <%= link_to "Delete",
            admin_user_path(user),
            method: :delete,
            data: { confirm: "Are you sure you want to delete this user?" },
            class: "delete" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
